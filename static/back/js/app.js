var App=function(){var e,g,q,n,i,h,a;var c=function(){e=$("#page-container");g=$("#page-content");q=$("header");n=$("#page-content + footer");i=$("#sidebar");h=$("#sidebar-alt");a=$(".sidebar-scroll");m("init");t();l();s();f();r();$(window).resize(function(){r()});$(window).bind("orientationchange",r);var v=$("#year-copy"),w=new Date();if(w.getFullYear()===2014){v.html("2014")}else{v.html("2014-"+w.getFullYear().toString().substr(2,2))}k();$('[data-toggle="tabs"] a, .enable-tabs a').click(function(x){x.preventDefault();$(this).tab("show")});$('[data-toggle="tooltip"], .enable-tooltip').tooltip({container:"body",animation:false});$('[data-toggle="popover"], .enable-popover').popover({container:"body",animation:true});$('[data-toggle="lightbox-image"]').magnificPopup({type:"image",image:{titleSrc:"title"}});$('[data-toggle="lightbox-gallery"]').magnificPopup({delegate:"a.gallery-link",type:"image",gallery:{enabled:true,navigateByImgClick:true,arrowMarkup:'<button type="button" class="mfp-arrow mfp-arrow-%dir%" title="%title%"></button>',tPrev:"Previous",tNext:"Next",tCounter:'<span class="mfp-counter">%curr% of %total%</span>'},image:{titleSrc:"title"}});$(".textarea-editor").wysihtml5();$("input, textarea").placeholder()};var u=function(){var v=$("#page-wrapper");if(v.hasClass("page-loading")){v.removeClass("page-loading")}};var b=function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};var t=function(){var w=250;var y=250;var x=$(".sidebar-nav-menu");var v=$(".sidebar-nav-submenu");x.click(function(){var z=$(this);if(z.parent().hasClass("active")!==true){if(z.hasClass("open")){z.removeClass("open").next().slideUp(w,function(){o(z,200,300)});setTimeout(r,w)}else{$(".sidebar-nav-menu.open").removeClass("open").next().slideUp(w);z.addClass("open").next().slideDown(y,function(){o(z,150,600)});setTimeout(r,((w>y)?w:y))}}return false});v.click(function(){var z=$(this);if(z.parent().hasClass("active")!==true){if(z.hasClass("open")){z.removeClass("open").next().slideUp(w,function(){o(z,200,300)});setTimeout(r,w)}else{z.closest("ul").find(".sidebar-nav-submenu.open").removeClass("open").next().slideUp(w);z.addClass("open").next().slideDown(y,function(){o(z,150,600)});setTimeout(r,((w>y)?w:y))}}return false})};var o=function(v,w,B){if(!e.hasClass("disable-menu-autoscroll")){var y;if(!q.hasClass("navbar-fixed-top")&&!q.hasClass("navbar-fixed-bottom")){var x=v.offset().top;y=(((x-w)>0)?(x-w):0);$("html, body").animate({scrollTop:y},B)}else{var A=v.parents(".sidebar-scroll");var z=v.offset().top+Math.abs($("div:first",A).offset().top);y=(((z-w)>0)?(z-w):0);A.animate({scrollTop:y},B)}}};var m=function(x,v){if(x==="init"){if(q.hasClass("navbar-fixed-top")||q.hasClass("navbar-fixed-bottom")){m("sidebar-scroll")}$(".sidebar-partial #sidebar").mouseenter(function(){m("close-sidebar-alt")});$(".sidebar-alt-partial #sidebar-alt").mouseenter(function(){m("close-sidebar")})}else{var w=b();if(x==="toggle-sidebar"){if(w>991){e.toggleClass("sidebar-visible-lg");if(e.hasClass("sidebar-visible-lg")){m("close-sidebar-alt")}if(v==="toggle-other"){if(!e.hasClass("sidebar-visible-lg")){m("open-sidebar-alt")}}}else{e.toggleClass("sidebar-visible-xs");if(e.hasClass("sidebar-visible-xs")){m("close-sidebar-alt")}}}else{if(x==="toggle-sidebar-alt"){if(w>991){e.toggleClass("sidebar-alt-visible-lg");if(e.hasClass("sidebar-alt-visible-lg")){m("close-sidebar")}if(v==="toggle-other"){if(!e.hasClass("sidebar-alt-visible-lg")){m("open-sidebar")}}}else{e.toggleClass("sidebar-alt-visible-xs");if(e.hasClass("sidebar-alt-visible-xs")){m("close-sidebar")}}}else{if(x==="open-sidebar"){if(w>991){e.addClass("sidebar-visible-lg")}else{e.addClass("sidebar-visible-xs")}m("close-sidebar-alt")}else{if(x==="open-sidebar-alt"){if(w>991){e.addClass("sidebar-alt-visible-lg")}else{e.addClass("sidebar-alt-visible-xs")}m("close-sidebar")}else{if(x==="close-sidebar"){if(w>991){e.removeClass("sidebar-visible-lg")}else{e.removeClass("sidebar-visible-xs")}}else{if(x==="close-sidebar-alt"){if(w>991){e.removeClass("sidebar-alt-visible-lg")}else{e.removeClass("sidebar-alt-visible-xs")}}else{if(x=="sidebar-scroll"){if(a.length&&(!a.parent(".slimScrollDiv").length)){a.slimScroll({height:$(window).height(),color:"#fff",size:"3px",touchScrollStep:100});$(window).resize(j);$(window).bind("orientationchange",p)}}}}}}}}}return false};var j=function(){a.add(a.parent()).css("height",$(window).height())};var p=function(){setTimeout(a.add(a.parent()).css("height",$(window).height()),500)};var r=function(){var y=$(window).height();var w=i.outerHeight();var v=h.outerHeight();var z=q.outerHeight();var x=n.outerHeight();if(q.hasClass("navbar-fixed-top")||q.hasClass("navbar-fixed-bottom")||((w<y)&&(v<y))){if(e.hasClass("footer-fixed")){g.css("min-height",y-z+"px")}else{g.css("min-height",y-(z+x)+"px")}}else{if(e.hasClass("footer-fixed")){g.css("min-height",((w>v)?w:v)-z+"px")}else{g.css("min-height",((w>v)?w:v)-(z+x)+"px")}}};var l=function(){$('[data-toggle="block-toggle-content"]').on("click",function(){var v=$(this).closest(".block").find(".block-content");if($(this).hasClass("active")){v.slideDown()}else{v.slideUp()}$(this).toggleClass("active")});$('[data-toggle="block-toggle-fullscreen"]').on("click",function(){var v=$(this).closest(".block");if($(this).hasClass("active")){v.removeClass("block-fullscreen")}else{v.addClass("block-fullscreen")}$(this).toggleClass("active")});$('[data-toggle="block-hide"]').on("click",function(){$(this).closest(".block").fadeOut()})};var s=function(){var v=$("#to-top");$(window).scroll(function(){if(($(this).scrollTop()>150)&&(b()>991)){v.fadeIn(100)}else{v.fadeOut(100)}});v.click(function(){$("html, body").animate({scrollTop:0},400);return false})};var k=function(){var w=$(".chat-users");var y=$(".chat-talk");var v=$(".chat-talk-messages");var x=$("#sidebar-chat-message");var z="";$(".chat-talk-messages").slimScroll({height:210,color:"#fff",size:"3px",position:"left",touchScrollStep:100});$("a",w).click(function(){w.slideUp();y.slideDown();x.focus();return false});$("#chat-talk-close-btn").click(function(){y.slideUp();w.slideDown();return false});$("#sidebar-chat-form").submit(function(A){z=x.val();if(z){v.append('<li class="chat-talk-msg chat-talk-msg-highlight themed-border animation-slideLeft">'+$("<div />").text(z).html()+"</li>");v.animate({scrollTop:v[0].scrollHeight},500);x.val("")}A.preventDefault()})};var f=function(){var B=$(".sidebar-themes");var x=$("#theme-link");var A;if(x.length){A=x.attr("href");$("li",B).removeClass("active");$('a[data-theme="'+A+'"]',B).parent("li").addClass("active")}$("a",B).click(function(G){A=$(this).data("theme");$("li",B).removeClass("active");$(this).parent("li").addClass("active");if(A==="default"){if(x.length){x.remove();x=$("#theme-link")}}else{if(x.length){x.attr("href",A)}else{$('link[href="css/themes.css"]').before('<link id="theme-link" rel="stylesheet" href="'+A+'">');x=$("#theme-link")}}});$(".dropdown-options a").click(function(G){G.stopPropagation()});var y=$("#options-main-style");var w=$("#options-main-style-alt");if(e.hasClass("style-alt")){w.addClass("active")}else{y.addClass("active")}y.click(function(){e.removeClass("style-alt");$(this).addClass("active");w.removeClass("active")});w.click(function(){e.addClass("style-alt");$(this).addClass("active");y.removeClass("active")});var F=$("#options-header-default");var E=$("#options-header-inverse");var z=$("#options-header-top");var v=$("#options-header-bottom");if(q.hasClass("navbar-default")){F.addClass("active")}else{E.addClass("active")}if(q.hasClass("navbar-fixed-top")){z.addClass("active")}else{if(q.hasClass("navbar-fixed-bottom")){v.addClass("active")}}F.click(function(){q.removeClass("navbar-inverse").addClass("navbar-default");$(this).addClass("active");E.removeClass("active")});E.click(function(){q.removeClass("navbar-default").addClass("navbar-inverse");$(this).addClass("active");F.removeClass("active")});z.click(function(){e.removeClass("header-fixed-bottom").addClass("header-fixed-top");q.removeClass("navbar-fixed-bottom").addClass("navbar-fixed-top");$(this).addClass("active");v.removeClass("active");m("sidebar-scroll");r()});v.click(function(){e.removeClass("header-fixed-top").addClass("header-fixed-bottom");q.removeClass("navbar-fixed-top").addClass("navbar-fixed-bottom");$(this).addClass("active");z.removeClass("active");m("sidebar-scroll");r()});var D=$("#options-footer-static");var C=$("#options-footer-fixed");if(e.hasClass("footer-fixed")){C.addClass("active")}else{D.addClass("active")}D.click(function(){e.removeClass("footer-fixed");$(this).addClass("active");C.removeClass("active");r()});C.click(function(){e.addClass("footer-fixed");$(this).addClass("active");D.removeClass("active");r()})};var d=function(){$.extend(true,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6 col-xs-5'l><'col-sm-6 col-xs-7'f>r>t<'row'<'col-sm-5 hidden-xs'i><'col-sm-7 col-xs-12 clearfix'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_",sSearch:'<div class="input-group">_INPUT_<span class="input-group-addon"><i class="fa fa-search"></i></span></div>',sInfo:"<strong>_START_</strong>-<strong>_END_</strong> of <strong>_TOTAL_</strong>",oPaginate:{sPrevious:"",sNext:""}}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control",sLengthSelect:"form-control"})};return{init:function(){c();u()},sidebar:function(w,v){m(w,v)},datatables:function(){d()}}}();$(function(){App.init()});